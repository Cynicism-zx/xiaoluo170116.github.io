<!DOCTYPE html>

<html lang="zh-CN">






<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/3.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="凭君莫话封侯事，一将功成万骨枯。传闻一战百神愁，两岸强兵过未休。">
  <meta name="author" content="xiaoluo">
  <meta name="keywords" content="弱水三千只取一瓢饮">
  <title>函数 ❤ 小罗</title>
  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
  <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
  <link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
  <link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >
  <link rel="stylesheet" href="https://at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">
  
    <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >
  
  <link rel="stylesheet" href="/css/main.css"  >

  

</head>


<body>
  <header style="height: 80vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Miss Luo</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">AboutUs</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>


</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/4.jpg')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              <p class="mt-3">星期六, 十一月 2日 2019, 2:58 下午</p>
            
          </div>

          
            <div class="scroll-down-bar">
              <i class="fa fa-angle-down scroll-down-arrow"></i>
            </div>
          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto">
          <div class="markdown-body">
            <p>函数的定义、声明、调用，以及高阶函数的声明及使用；迭代器、生成器、装饰器</p>
<a id="more"></a>

<h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><h4 id="1-什么是函数（非常重要！）"><a href="#1-什么是函数（非常重要！）" class="headerlink" title="1.什么是函数（非常重要！）"></a>1.什么是函数（非常重要！）</h4><p>——函数就是<code>对实现某一特定功能代码的封装</code></p>
<h4 id="2-函数的分类"><a href="#2-函数的分类" class="headerlink" title="2.函数的分类"></a>2.函数的分类</h4><p>按照函数是谁来声明将函数分为系统函数和自定义函数<br>​    <code>系统函数</code>—— 由系统声明，开发者直接使用的函数；例如：max、min、sum、print、input等<br>​    <code>自定义函数</code>——由程序员自己来声明，可以自己用，也可以给别人使用</p>
<h4 id="3-函数的声明（定义）"><a href="#3-函数的声明（定义）" class="headerlink" title="3.函数的声明（定义）"></a>3.函数的声明（定义）</h4><p>语法：</p>
<pre><code class="python">def 函数名（参数列表）：
    函数说明文档
    函数体</code></pre>
<p>声明：</p>
<pre><code class="python">def —— python中声明函数的关键字
函数名 —— 程序员自己命名（要求：必须是标识符，不能是关键字  
                        规范：所有字母小写，单词用下划线隔开；见名知义；不能使用系统函数名、类型名）
（  ）—— 固定写法，不能省略
参数列表 —— 这里的参数叫形参；以&quot;变量名1，变量名2，变量名3，....&quot;的形式存在
              形参的作用是将函数外的数据传递给函数
：—— 固定写法
函数说明文档 —— 使用三个双引号引起来的文本信息，对函数体进行说明
函数体 —— 和def保持一个缩进的一条或多条语句；就是实现函数功能的代码段</code></pre>
<p>初学者声明函数的步骤：</p>
<pre><code>a、确定函数功能
b、根据功能确定函数名字
c、确定函数的参数；看实现函数的功能需不需要额外的数据，需要的话，需要几个
d、实现函数的功能（写出函数体）
e、写函数说明文档</code></pre><p>注意：函数在声明时，不会执行函数体；函数必须调用才能执行<br>——————————————————<br>练习：写一个函数，求两个数的和</p>
<pre><code class="python">def sum_two(a, b):
    &quot;&quot;&quot;
    功能说明:求两个数的和
    :param a: 参数说明
    :param b: 参数说明
    :return: None
    &quot;&quot;&quot;
    print(a + b)
a, b = 10, 20
sum_two(a, b)</code></pre>
<p>练习：写一个函数，打印指定字符串中所有的中文字符</p>
<pre><code class="python">def print_ch(str1):
    &quot;&quot;&quot;
    功能说明：打印指定字符串中所有的中文字符
    :param str1: 指定的字符串
    :return: 
    &quot;&quot;&quot;
    for x in str1:
        if 0x4e00 &lt;= ord(x) &lt;= 0x9fa5:
            print(x)
str1 = &#39;jdjk5545我545是&#39;
print_ch(str1)
# ord() —— 是求字符的编码值
# chr() —— 是求编码值对应的字符</code></pre>
<h3 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h3><p>语法：</p>
<pre><code>函数名(实参列表)</code></pre><p>说明：</p>
<pre><code>    函数名 —— 已经声明过的函数名
    （）—— 固定写法
    实参列表 —— 以‘值1，值2，值3，....’的形式存在
                实参是给形参赋值的
注意：函数可以调用多次</code></pre><pre><code class="python"># 声明函数
def sum_two(a, b):
    &quot;&quot;&quot;
    功能说明:求两个数的和
    :param a: 参数说明
    :param b: 参数说明
    :return: None
    &quot;&quot;&quot;
    print(a + b)
a, b = 10, 20
# 调用函数
sum_two(a, b)</code></pre>
<h4 id="函数调用过程"><a href="#函数调用过程" class="headerlink" title="函数调用过程"></a>函数调用过程</h4><p>1）回到函数声明的位置<br>2）传参——用实参给形参赋值；传参时要保证每个参数都有值<br>3）执行函数体<br>4）确定函数返回值<br>5）回到函数调用的位置</p>
<h3 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h3><h4 id="1）位置参数和关键字参数-——-实参分类"><a href="#1）位置参数和关键字参数-——-实参分类" class="headerlink" title="1）位置参数和关键字参数 —— 实参分类"></a>1）位置参数和关键字参数 —— 实参分类</h4><p>位置参数：让实参和形参一一对应给不同形参赋不同的值<br>关键字参数：以’参数名1 = 值1，参数名2 = 值2，….’的形式来传参<br>注意：如果位置参数和关键字参数同时存在，位置参数必须在关键字参数前</p>
<pre><code class="python"># 声明函数
def print_c(x, y):
    x + y
# 位置参数
print_c(13, 14)
# 关键字参数
print_c(x=100, y=14)
# 位置参数+关键字参数
print_c(100, y=14)</code></pre>
<h4 id="2）参数默认值-——-针对形参"><a href="#2）参数默认值-——-针对形参" class="headerlink" title="2）参数默认值 —— 针对形参"></a>2）参数默认值 —— 针对形参</h4><p>声明函数的时候可以给形参赋默认值；已经有默认值的参数在调用时可以不用再传参<br>注意：没有默认值的参数必须放在有默认值参数的前边</p>
<h4 id="3-参数类型说明"><a href="#3-参数类型说明" class="headerlink" title="3)参数类型说明"></a>3)参数类型说明</h4><p>a.给参数设置默认值，默认值的类型就是参数的类型<br>b.（形参：类型名）—— 可以提示后边的操作</p>
<pre><code class="python">def print_c(x:list, y:str, z=14):
    num = x + y + z</code></pre>
<h4 id="4-不定长参数——参数个数不确定"><a href="#4-不定长参数——参数个数不确定" class="headerlink" title="4)不定长参数——参数个数不确定"></a>4)不定长参数——参数个数不确定</h4><p>a.<code>在参数名前加*</code>，那么这个参数就会变成一个元组去接收多个参数（调用时只能用位置参数）<br>b.<code>在参数名前加**</code>,那么这个参数就会变成一个字典去接收多个参数（调用时只能关键字参数）</p>
<pre><code class="python"># a.在参数名前加*
def print_x(*num):
    print(num)
# 调用
print_x(1)
print_x(1,2)

# b.在参数名前加**
def print_t(**num):
    print(num)
# 调用
print_t(x=13,y=14)</code></pre>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>1.返回值</p>
<p>1）什么是返回值：返回值就是return后面的值（怎么确定返回值）；就是函数调用表达式的值（怎么获取返回值）</p>
<p>a：return是函数体中的关键字</p>
<p>——返回返回值（确定函数返回值）：return 表达式——表达式的值就是函数的返回值</p>
<p>——结束函数：执行函数体时遇到return，函数直接结束</p>
<p>b：函数调用表达式：调用函数的语句</p>
<p>2）作用：将函数内的数据传递到函数外面（外边要用的话，必须保存返回值）</p>
<p>3）怎么确定函数返回值：看执行函数体的时候会不会遇到return；</p>
<pre><code>如果遇到return，return后边是什么返回值就是什么
没有遇到return，返回值就为None</code></pre><p>4）怎么获取函数返回值：获取函数调用表达式的值</p>
<p>5）多个返回值：python支持一个函数有多个返回值</p>
<pre><code>return 值1，值2，...</code></pre><p>2.初学者确定函数返回值的方式</p>
<p>看实现函数的功能会不会产生新的数据，一般将新数据作为返回值返回</p>
<pre><code class="python">def sum1(x, y):
    sum1 = x + y
    return sum1
x, y = 10, 20
num = sum1(x, y)  # 保存返回值
print(num)</code></pre>
<h3 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h3><p>1.变量的作用域：变量可以使用的范围</p>
<p>1）全局变量：没有声明在函数或类里面的变量</p>
<p>——从声明开始到文件结束任何地方都可以使用</p>
<p>2）局部变量：声明在函数里的变量</p>
<p>——从声明开始到函数结束的地方都可以使用</p>
<p>3）为什么局部变量不能在函数外使用：</p>
<p>——当调用函数时，系统会自动为函数在栈区间开辟一个临时内存区域，来保存在函数中声明的变量（形参也是）；当调用函数结束时，这个临时内存区域会自动销毁，里边的变量也会消失</p>
<pre><code>for x in range(5):
    # x是全局变量
    print(x)
print(x)</code></pre><p>2.global和nonlocal：只能在函数体中使用</p>
<p>1）global</p>
<p>作用：在函数中声明或修改全局变量</p>
<p>格式——global 变量名</p>
<pre><code class="python"># 未声明成全局变量
a1 = 100
def func1():
    a1 = 200 # 保存在临时的栈区间，函数结束销毁
func1()
print(a1)
# 用global把a1声明成全局变量
a1 = 100
def func2():
    global a1    # 保存在栈区间
    a1 = 200
func2()
print(a1)</code></pre>
<p>2）nonlocal</p>
<p>作用：在局部的局部中修改局部变量的值，就用nonlocal</p>
<p>格式——nonlocal 变量名</p>
<pre><code class="python">def func3():
    a1 = 10
    def func4():
        nonlocal a1
        a1 = 101
    func4()
    print(a1)
func3()</code></pre>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>1.匿名函数</p>
<p>匿名函数就是没有名字的函数，除了声明的语法与普通函数不同，其他都几乎一样</p>
<p>1)声明匿名函数</p>
<p>a.语法</p>
<pre><code>lambda 形参列表:返回值</code></pre><p>b.说明</p>
<p>lambda —— 关键字</p>
<p>形参列表 —— 和普通函数的形参列表一样</p>
<p>：—— 固定写法</p>
<p>返回值 —— 函数体，相当于普通函数中的return</p>
<p>匿名函数改成普通函数：给匿名函数加个名字</p>
<pre><code>def 函数名（）：
    return 返回值</code></pre><p>2)匿名函数调用</p>
<p>函数名（实参列表）</p>
<p>注意：参数类型说明在匿名函数中不能用</p>
<p>3）匿名函数和普通函数的关系</p>
<p>匿名函数可以做的普通函数都可以做；普通函数能做的，匿名函数不一定能做。</p>
<p>在函数功能简单的情况下可以用匿名函数，代码更简洁</p>
<pre><code class="python">    # 写一个匿名函数求两个数的和
    func1 = lambda x, y: x + y
    func1(10, 20)
    print(func1(10, 20))

    # 写一个匿名函数判断指定年是否是闰年
    # 三目运算符
    func2 = lambda year: &#39;是闰年&#39; if (year % 4 == 0 and year % 100 != 0) or year % 400 == 0 else &#39;不是闰年&#39;
    sum1 = func2(2019)
    print(sum1)</code></pre>
<h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><p>1.什么是递归函数</p>
<p>——声明函数时，调用自己的函数</p>
<p>循环能做的，递归都可以做（死循环不行）</p>
<p>结论：解决循环问题时，能不用递归就不用递归，因为它会消耗额外的内存的cpu资源</p>
<pre><code>def func1():
    print(&#39;lalala&#39;)
    func1()
func1()</code></pre><p>2.怎么写递归函数</p>
<p>1）找临界值（让循环结束的条件），在这儿必须让函数结束（return）</p>
<p>2）找关系：当次循环f(n)和上次循环f(n-1)的关系</p>
<p>3）假设函数的功能已经实现，通过f(n-1)去实现f(n)的功能</p>
<pre><code class="python"># 用递归实现1+2+3+4......+n
def sum1(n):
    # 1.找临界值
    if n == 1:
        return 1
    # 2.找关系
    &quot;&quot;&quot;
    sum1(n) = 1+2+3+...n-1,n
    sum1(n-1) = 1+2+3+...n-1
    sum1(n) = sum1(n-1) + n
    &quot;&quot;&quot;
    # 3.
    return sum1(n-1) + n
print(sum1(100))

# 用递归实现：求斐波拉且数列的第n个数（1，1，2，3，5，8，13，....,n）
def feibolaqie(n):
    if n == 1 or n == 2:
        return 1
    &quot;&quot;&quot;
    f(n) = f(n-1) + f(n-2)
    &quot;&quot;&quot;
    return feibolaqie(n-1) + feibolaqie(n-2)
print(feibolaqie(5))

# 用递归实现下边的
&quot;&quot;&quot;
r = 1
*
r = 2
*
**
r = 3
*
**
***
r = n
*
**
........
&quot;&quot;&quot;
def huaxing(n):
    if n == 1:
        print(&#39;*&#39;)
        return
    # 找关系
    &quot;&quot;&quot;
    f(n-1)
    print(&#39;*&#39;*n)
    &quot;&quot;&quot;
    huaxing(n-1)
    print(&#39;*&#39;*n)
print(huaxing(4))</code></pre>
<h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><pre><code>函数就是变量：python中声明函数其实就是声明一个类型是function的变量，函数名就是变量名；变量能做的函数也能做</code></pre><h4 id="1）给别的变量赋值"><a href="#1）给别的变量赋值" class="headerlink" title="1）给别的变量赋值"></a>1）给别的变量赋值</h4><pre><code class="python">def func1(x,y):
    sum1 = x + y
    return sum1
c = func1
print(c(13, 14))</code></pre>
<h4 id="2）重新赋值"><a href="#2）重新赋值" class="headerlink" title="2）重新赋值"></a>2）重新赋值</h4><pre><code class="python">def func2(x,y):
    sum1 = x + y
    return sum1
func2 = 100
print(type(fun</code></pre>
<h4 id="3）函数作为容器类型数据的元素"><a href="#3）函数作为容器类型数据的元素" class="headerlink" title="3）函数作为容器类型数据的元素"></a>3）函数作为容器类型数据的元素</h4><pre><code class="python">def func3(x,y):
    sum1 = x + y
    return sum1
list1 = [1, 13,14, func3]
     # 调用func3
list1[-1](13, 14)</code></pre>
<h4 id="4-作为别的函数的参数"><a href="#4-作为别的函数的参数" class="headerlink" title="4)作为别的函数的参数"></a>4)作为别的函数的参数</h4><p> <strong><code>实参高阶函数</code></strong>（函数的参数还是函数）</p>
<pre><code class="python">def func4(x):
    sum1 = x**6
    return sum1
def func_z(y):
    return y
print(func4(func_z(3)))</code></pre>
<pre><code class="python">系统实参高阶函数：列表.sort、sorted、max、min....等函数中有个参数key，类型就是function
key的用法：
    key是一个函数，有且只有一个参数（代表序列中的元素），还有一个返回值（返回值就是比较标准）
    可以直接写（1）匿名函数：key= lambda num:返回值 （2）定义一个函数，赋给key

（1）list.sort(key= )</code></pre>
<pre><code class="python">students = [
    {&#39;name&#39;: &#39;tom&#39;, &#39;age&#39;: 15, &#39;gender&#39;: &#39;man&#39;},
    {&#39;name&#39;: &#39;rose&#39;, &#39;age&#39;: 19, &#39;gender&#39;: &#39;woman&#39;},
    {&#39;name&#39;: &#39;kolley&#39;, &#39;age&#39;: 18, &#39;gender&#39;: &#39;woman&#39;},
    {&#39;name&#39;: &#39;james&#39;, &#39;age&#39;: 20, &#39;gender&#39;: &#39;man&#39;}
]
# 法1：声明一个函数，再赋给key
def paixu(x):   # 函数paixu（）挨个取列表里的元素，x就是列表里的元素
    return x[&#39;age&#39;]  # 排序的标准
students.sort(key=paixu)

# 法2：可以直接写成匿名函数
students.sort(key=lambda x: x[&#39;age&#39;])
print(students)</code></pre>
<p>练习：将列表元素按个位数和的大小排序</p>
<pre><code class="python">list2 = [19, 89, 123, 75, 90]
# 法1
def func5(x):
    sum1 = 0
    str1 = str(x)
    for num in str1:
        sum1 += int(num)
    return sum1
list2.sort(key=func5)
# 法2
list2.sort(key=lambda num: (num%10+num//10%10+num//100))
print(list2)</code></pre>
<p>(2)max(序列，key=)   ——与list.sort(key=)中key要求一致</p>
<pre><code class="python">max1 = max(students, key=lambda num: num[&#39;age&#39;])
print(max1)</code></pre>
<h4 id="5）作为别的函数的返回值-——-返回值高阶函数"><a href="#5）作为别的函数的返回值-——-返回值高阶函数" class="headerlink" title="5）作为别的函数的返回值 —— 返回值高阶函数"></a>5）作为别的函数的返回值 —— 返回值高阶函数</h4><pre><code class="python">def operation(str1):
    if str1 == &#39;+&#39;:
        def sum1(*nums):
            x = 0
            for num in nums:
                x += num
            return x
        # 返回到函数sum1
        return sum1
    elif str1 == &#39;*&#39;:
        def sum2(*nums):
            x = 1
            for num in nums:
                x *= num
            return x
        return sum2
print(operation(&#39;+&#39;)(13, 14, 10))</code></pre>
<h3 id="装饰器（非常重要！！）"><a href="#装饰器（非常重要！！）" class="headerlink" title="装饰器（非常重要！！）"></a>装饰器（非常重要！！）</h3><h4 id="1-什么是装饰器"><a href="#1-什么是装饰器" class="headerlink" title="1.什么是装饰器"></a>1.什么是装饰器</h4><p>装饰器的本质就是函数，用来给函数添加功能<br>装饰器 = 实参高阶函数 + 返回值高阶函数</p>
<p>示例一：给函数添加 统计执行时间功能</p>
<pre><code class="python"># 传统方法
def count1(x, y):
    t1 = time.time()
    print(x + y)
    print(x + y)
    t2 = time.time()
    print(&#39;函数执行时间：&#39;, t2 - t1)
count1(10, 20)
# 装饰器方法
def count_time(fn,*num1, **num2):
    t1 = time.time()
    fn(*num1, **num2)  # *num1表示将容器打破，将元素拎出来
    t2 = time.time()
    print(&#39;函数执行时间：&#39;, t2 - t1)
def fn(x, y) :
    print(x + y)
count_time(fn, 13, 14)</code></pre>
<h4 id="无参数装饰器"><a href="#无参数装饰器" class="headerlink" title="无参数装饰器"></a>无参数装饰器</h4><p>语法：</p>
<pre><code>def 函数名1（fn）：
    def 函数名2（*args, **kwargs）:
        实现添加功能的代码
        fn（*args, **kwargs）
    return 函数2</code></pre><p>说明：<br>函数名1——装饰器的名字（根据添加功能命名）<br>fn —— 随便命名，类型是函数，指向需要添加功能的函数<br>函数名2 —— 实现添加功能的函数，名字随便命名，一般为test</p>
<pre><code class="python"># 有顺序要求============================
def add_time(fn):
    def test(*args, **kwargs):
        t1 = time.time()
        fn(*args, **kwargs)
        t2 = time.time()
        print(&#39;运行时间：&#39;,t2 - t1)
    return test
@add_time  # 放在装饰器后边；@后加装饰器名字
# 要增加功能的函数放在唐语法后边
def operation():
    print(&#39;lala&#39;)
operation()
# ========================================</code></pre>
<pre><code class="python"># 练习1：写装饰器，实现函数结束调用结束后打印‘调用完成’
def print_end(fn):
    def test(*args, **kwargs):
        num = fn(*args, **kwargs)
        print(&#39;调用完成&#39;)
        return num
    return test
@print_end
def func_a(m):
    return m**2
print(func_a(4))</code></pre>
<pre><code class="python"># 练习2：写装饰器，将返回值是整数的函数以十六进制的形式返回
def print_end(fn):
    def test(*args, **kwargs):
        num = fn(*args, **kwargs)
        print(&#39;调用完成&#39;)
        return hex(num)
    return test
@print_end
def func_a(m):
    return m**2
print(func_a(4))</code></pre>
<h4 id="有参装饰器"><a href="#有参装饰器" class="headerlink" title="有参装饰器"></a>有参装饰器</h4><p>写法：</p>
<pre><code>def 函数名3（参数列表）：
    def 函数名1（fn）：
        def 函数名2（*args, **kwargs）:
            实现添加功能的代码
            fn（*args, **kwargs）
        return 函数2
    return 函数1</code></pre><p>参数列表 —— 装饰器添加功能时变化的部分通过参数列表来确定<br>函数名3就是装饰器名</p>
<pre><code class="python">def add_tag(name):
    def test1(fn):
        def test2(*args, **kwargs):
            re = fn(*args, **kwargs)
            return &#39;&lt;{0}&gt;{1}&lt;{0}&gt;&#39;.format(name, re)
        return test2
    return test1

@add_tag(&#39;haha&#39;)
def render():
    return &#39;lala&#39;

print(render())</code></pre>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><h4 id="1-什么是迭代器（iter）"><a href="#1-什么是迭代器（iter）" class="headerlink" title="1.什么是迭代器（iter）"></a>1.什么是迭代器（iter）</h4><p>​    迭代器是容器型数据类型（序列），迭代器中的元素只能通过将其他序列转换成迭代器或者创建生成器<br>​    迭代器中元素特点：如果需要查看元素，需将元素从迭代器中取出，且取出不能再放回去</p>
<h4 id="2-创建迭代器"><a href="#2-创建迭代器" class="headerlink" title="2.创建迭代器"></a>2.创建迭代器</h4><p>​    <code>iter(序列)</code> —— 将序列转换成迭代器并返回</p>
<pre><code class="python">item1 = iter((13, 14, 15, 16))</code></pre>
<h4 id="3-获取元素"><a href="#3-获取元素" class="headerlink" title="3.获取元素"></a>3.获取元素</h4><p>1）获取单个元素<br>​    <code>next(迭代器)</code><br>2）遍历迭代器</p>
<pre><code class="python"># 获取单个元素================
item1 = iter((13, 14, 15, 16))
print(next(item1))
print(next(item1))
print(next(item1))
print(next(item1))
# print(next(item1))    # StopIteration,迭代器元素取完会报错</code></pre>
<pre><code class="python"># 遍历迭代器
item2 = iter(&#39;hello&#39;)
for x in item2:
    print(x)</code></pre>
<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><h4 id="1-什么是生成器"><a href="#1-什么是生成器" class="headerlink" title="1.什么是生成器"></a>1.什么是生成器</h4><p>生成器就是迭代器，有产生数据的能力</p>
<h5 id="1-怎么创建生成器："><a href="#1-怎么创建生成器：" class="headerlink" title="1)怎么创建生成器："></a>1)怎么创建生成器：</h5><p>调用一个带有yield关键字的函数，可以得到一个生成器对象</p>
<h5 id="2-生成器产生数据的原理："><a href="#2-生成器产生数据的原理：" class="headerlink" title="2)生成器产生数据的原理："></a>2)生成器产生数据的原理：</h5><p>​    调用一个带有yield关键字的函数时，不会执行函数体，也不会获得返回值，而是创建一个生成器<br>​    生成器能产生多少个数据，以及每个数据的值，看执行完函数体会遇到几次yield，yield后边的数据就是会产生的数据<br>​    每次获取生成器的元素的时候，都会去执行相应的函数体，执行到yield为止，取下一个元素，从上一次结束的位置接着往后执行</p>
<pre><code class="python">def func1():
    print(&#39;=========&#39;)
    yield 13
    print(&#39;lalala&#39;)
    yield 14
fun = func1()
print(fun)
print(next(fun))
print(next(fun))</code></pre>
<pre><code class="python"># 写一个学号生成器，能够产生的学号范围和学号的前缀自己决定
def func_student_number(qz,num):
    # 字符串的长度要知道，好确定中间填充多少指定字符
    length = len(str(num))
    for x in range(1, num+1):
        yield qz + str(x).zfill(length)
fun1 = func_student_number(&#39;py&#39;,20000)
for x in fun1:
    # 已经遍历了fun1，不能再print(next(fun1))
    print(x)</code></pre>
<h3 id="生成式-重要"><a href="#生成式-重要" class="headerlink" title="生成式 -重要!!!!!"></a>生成式 -重要!!!!!</h3><h4 id="1-什么是生成式"><a href="#1-什么是生成式" class="headerlink" title="1.什么是生成式"></a>1.什么是生成式</h4><p>生成式就是生成器的一种简写方式<br>1）形式一：<br>    (表达式 for 变量 in 序列) —— 序列有多少个元素，生成器就能产生多少个数据；<br>                                每次循环，表达式的值就是产生数据的值<br>相当于：<br>    def func1():<br>        for 变量 in 序列：<br>            yield 表达式</p>
<p>2）形式二：<br>    (表达式 for 变量 in 序列 if 条件语句) —— if条件语句为True时，才会执行表达式</p>
<p>相当于：<br>    def func1():<br>        for 变量 in 序列：<br>            if 条件语句：<br>                yield 表达式<br>练习：</p>
<pre><code class="python"># 形式一
gen1 = (x*2 for x in range(5))
print(next(gen1))

# 形式二
gen2 = (x*2 for x in range(5) if x % 2)
print(next(gen2))</code></pre>
<h4 id="2-变形"><a href="#2-变形" class="headerlink" title="2.变形"></a>2.变形</h4><h5 id="1-列表生成式"><a href="#1-列表生成式" class="headerlink" title="1)列表生成式"></a>1)列表生成式</h5><p><strong>[表达式 for 变量 in 序列]</strong> —— 相当于list((表达式 for 变量 in 序列))<br><strong>[表达式 for 变量 in 序列 if 条件语句]</strong> —— 相当于list((表达式 for 变量 in 序列 if 条件语句))</p>
<h5 id="2）集合生成式"><a href="#2）集合生成式" class="headerlink" title="2）集合生成式"></a>2）集合生成式</h5><p><strong>{表达式 for 变量 in 序列}</strong> —— 相当于set（（表达式 for 变量 in 序列））<br><strong>{表达式 for 变量 in 序列 if 条件语句}</strong> —— 相当于set((表达式 for 变量 in 序列 if 条件语句))</p>
<h5 id="3-字典生成式"><a href="#3-字典生成式" class="headerlink" title="3)字典生成式"></a>3)字典生成式</h5><p><strong>dict(表达式 for 变量 in 序列)</strong><br>注意：表达式必须是只有两个元素的序列</p>
<p>练习：一行代码实现将字典的键值对交换，产生新的字典</p>
<pre><code class="python">dict1 = {&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3}
# 遍历字典取的是键
dict2 = dict((dict1[x], x) for x in dict1)
print(dict2)</code></pre>

            <hr>
          </div>
          <br>
          <div>
            
              <p>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/%E5%9F%BA%E7%A1%80%E9%98%B6%E6%AE%B5">基础阶段</a>
                  &nbsp;
                
              </p>
            
            <p>
              <i class="iconfont icon-tag"></i>
              
                <a class="hover-with-bg" href="/tags/%E7%8E%A9%E8%BD%ACPython%E5%87%BD%E6%95%B0">玩转Python函数</a>
              
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;目录</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
      <br><br>
      
      <div class="disqus" style="width:100%">
  <div id="disqus_thread"></div>
  <script>
    var disqus_shortname = 'luo sir';
    var disqus_config = function () {
      this.page.url = 'http://yoursite.com/2019/11/02/函数/';
      this.page.identifier = '/2019/11/02/函数/';
    };
    (function () {
      var d = document, s = d.createElement('script');
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noopener">comments
      powered by Disqus.</a></noscript>
</div>
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>
    
      <a href="http://beian.miit.gov.cn/" target="_blank"
         rel="nofollow noopener">京ICP证123456号</a>
      
        <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12345678"
           target="_blank" rel="nofollow noopener"> | 京公网安备12345678号</a>
      
    
  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>

  <script src="/js/lazyload.js" ></script>


  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>


  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint linenums');
      prettyPrint();
    })
  </script>


  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "函数&nbsp;",
      ],
      cursorChar: "❤",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>


  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "left",
      visible: "true",
      
      icon: "@"
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>




  <script>
    if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent) || (/Safari/i.test(navigator.userAgent) && !/Chrome/i.test(navigator.userAgent))) {
      $("#background").css("background-attachment", "scroll");
    }
  </script>
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/click.js"></script>

  <!--崩溃欺骗-->
  <script type="text/javascript" src="/js/crash_cheat.js"></script>

</body>
</html>
